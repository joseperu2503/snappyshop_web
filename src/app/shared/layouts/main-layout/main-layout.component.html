<div class="layout">
  <header>
    <div class="header-content">
      <a routerLink="/dashboard" class="logo-container">
        <img src="assets/images/logo.png" alt="logo" class="logo" />
        <span class="snappyshop">SnappyShop</span>
      </a>

      @if (!router.url.includes('/search')) {
      <app-search-input></app-search-input>
      }

      <div class="spacer"></div>
      <button matRipple class="heart-button center" (click)="goToWishlist()">
        <svg-icon
          [src]="
            router.url.includes('/wishlist')
              ? 'assets/icons/heart_solid.svg'
              : 'assets/icons/heart_outlined.svg'
          "
          class="heart-icon"
        ></svg-icon>
      </button>

      <div class="cart-button-wrapper">
        <button matRipple class="cart-button center" (click)="goToCart()">
          <svg-icon
            src="assets/icons/shopping_cart.svg"
            class="cart-icon"
          ></svg-icon>
        </button>
        @if(userService.user() && cartStore.numProducts() > 0){
        <div class="badge center">
          {{ cartStore.numProducts() > 9 ? "+9" : cartStore.numProducts() }}
        </div>
        }
      </div>

      @if (userService.user()) {
      <app-user-button></app-user-button>
      }@else {
      <button matRipple class="button-login" (click)="login()">Log in</button>
      }
    </div>
  </header>
  <div class="body">
    <router-outlet />
  </div>
</div>
